function Game(e,t){this.container=$(e).get(0),this.ms=t,this.width=this.container.width,this.height=this.container.height,this.ctx=this.container.getContext("2d"),this.play=!0,this.rightDown=!1,this.leftDown=!1,this.topDown=!1,this.bottomDown=!1,this.spaceDown=!1,this.init=function(){this.initKeys(),setInterval(this.mainLoop,this.ms)},this.initKeys=function(){$(document).keydown(function(e){game.play===!0&&(39===e.keyCode?game.rightDown=!0:37===e.keyCode?game.leftDown=!0:38===e.keyCode?game.topDown=!0:40===e.keyCode&&(game.bottomDown=!0))}),$(document).keyup(function(e){game.play===!0&&(39===e.keyCode?game.rightDown=!1:37===e.keyCode?game.leftDown=!1:38===e.keyCode?game.topDown=!1:40===e.keyCode&&(game.bottomDown=!1))})},this.mainLoop=function(){game.play===!0&&(game.ctx.clearRect(0,0,game.width,game.height),firstLevel.generate(),player.create("./assets/images/pacman.png"),player.move(),redGhost.create("./assets/images/redghost.png"),redGhost.move(2),blueGhost.create("./assets/images/blueghost.png"),blueGhost.move(3),yellowGhost.create("./assets/images/yellowghost.png"),yellowGhost.move(2),pinkGhost.create("./assets/images/pinkghost.png"),pinkGhost.move(3),$("#score").html(player.score),player.score>=1910&&(alert("Tu as gagn√© !!"),game.play=!1)),game.keyManager()},this.keyManager=function(){game.rightDown&&(player.direction=0),game.leftDown&&(player.direction=1),game.topDown&&(player.direction=2),game.bottomDown&&(player.direction=3)}}var game=new Game("canvas",24),player=new Player(19,19,1,1,"#3498DB"),redGhost=new Ghost(19,19,9,10,"#FF0000"),blueGhost=new Ghost(19,19,9,10,"#0000FF"),yellowGhost=new Ghost(19,19,9,10,"#FFFF00"),pinkGhost=new Ghost(19,19,9,10,"#FF00FF"),food=new Food(2),firstLevel=new Map(firstMap,19);game.init();
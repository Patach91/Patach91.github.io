function Ghost(s,t,i,h,e){this.width=s,this.height=t,this.scale=19,this.posX=i*this.scale,this.posY=h*this.scale,this.color=e,this.image=null,this.speed=2.5,this.direction=2,this.create=function(s){s=s||!1,s===!1?(game.ctx.fillStyle=this.color,game.ctx.fillRect(this.posX,this.posY,this.width,this.height)):(this.image=new Image,this.image.src=s,game.ctx.drawImage(this.image,0,0,this.scale,this.scale,this.posX,this.posY,this.scale,this.scale))},this.move=function(){if(this.onTheRight=firstMap[Math.floor((this.posY+this.scale/2)/this.scale)][Math.floor((this.posX+this.scale)/this.scale)],this.onTheLeft=firstMap[Math.floor((this.posY+this.scale/2)/this.scale)][Math.floor((this.posX-1)/this.scale)],this.onTheTop=firstMap[Math.floor((this.posY-1)/this.scale)][Math.floor((this.posX+this.scale/2)/this.scale)],this.onTheBottom=firstMap[Math.floor((this.posY+this.scale)/this.scale)][Math.floor((this.posX+this.scale/2)/this.scale)],Math.floor(this.posX/this.scale)>Math.floor(game.width/this.scale)?this.posX=0:Math.floor(this.posX/this.scale)<0&&(this.posX=game.width),Math.floor(player.posX/this.scale)==Math.floor(this.posX/this.scale)&&Math.floor(player.posY/this.scale)==Math.floor(this.posY/this.scale)&&(game.play=!1),0===this.direction){if(game.ctx.drawImage(this.image,0,0,this.scale,this.scale,this.posX,this.posY,this.scale,this.scale),1===this.onTheRight)return this.direction=Math.floor(4*Math.random()),0;this.posX+=this.speed}else if(1===this.direction){if(game.ctx.drawImage(this.image,0,this.scale,this.scale,this.scale,this.posX,this.posY,this.scale,this.scale),1===this.onTheLeft)return this.direction=Math.floor(4*Math.random()),0;this.posX-=this.speed}else if(2===this.direction){if(game.ctx.drawImage(this.image,this.scale,this.scale,this.scale,this.scale,this.posX,this.posY,this.scale,this.scale),1===this.onTheTop)return this.direction=Math.floor(4*Math.random()),0;this.posY-=this.speed}else if(3===this.direction){if(game.ctx.drawImage(this.image,this.scale,0,this.scale,this.scale,this.posX,this.posY,this.scale,this.scale),1===this.onTheBottom)return this.direction=Math.floor(4*Math.random()),0;this.posY+=this.speed}}}